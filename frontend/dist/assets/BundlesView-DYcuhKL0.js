import{u as w,b as B}from"./PlusIcon-BRVSf6Yh.js";import{_ as A}from"./DataTable.vue_vue_type_script_setup_true_lang-CMdErABm.js";import{d as C,C as S,b as m,c as D,a as t,f as l,m as q,u as c,w as o,o as I,n as u,t as r,l as P,B as V}from"./index-CTkTLTUi.js";const M={class:"space-y-6"},N={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},T={class:"btn btn-primary"},$={class:"flex items-center"},j={class:"flex-shrink-0 h-10 w-10"},z={class:"h-10 w-10 rounded-lg bg-primary-100 flex items-center justify-center"},E={class:"ml-4"},F={class:"text-sm font-medium text-gray-900"},L={class:"text-sm text-gray-500"},Q={class:"text-sm text-gray-900"},K={class:"text-xs text-gray-500"},O={class:"text-sm font-medium text-gray-900"},G={class:"flex items-center"},H={class:"text-sm text-gray-900"},X=C({__name:"BundlesView",setup(J){const n=S({page:1,pageSize:10,search:"",sortBy:"name",sortDirection:"asc"}),x=[{key:"name",label:"Bundle",sortable:!0},{key:"items",label:"Items",align:"center"},{key:"price",label:"Price",sortable:!0,align:"right"},{key:"availability",label:"Availability"},{key:"status",label:"Status",sortable:!0},{key:"createdAt",label:"Created",sortable:!0,format:"date"},{key:"actions",label:"Actions",align:"right"}],{data:d,isLoading:y}=w({queryKey:["bundles",n],queryFn:()=>V.getBundles(n),keepPreviousData:!0}),g=m(()=>{var s;return((s=d.value)==null?void 0:s.data)||[]}),b=m(()=>{var s;return(s=d.value)==null?void 0:s.meta}),p=(s=[])=>s.reduce((a,e)=>a+e.quantity,0),f=s=>{const a=Math.random();return a>.7?"bg-green-500":a>.3?"bg-yellow-500":"bg-red-500"},_=s=>{const a=Math.random();return a>.7?"In Stock":a>.3?"Limited":"Out of Stock"},h=s=>{n.search=s,n.page=1},v=(s,a)=>{n.sortBy=s,n.sortDirection=a,n.page=1},k=s=>{n.page=s};return(s,a)=>(I(),D("div",M,[t("div",N,[a[1]||(a[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Bundles"),t("p",{class:"mt-1 text-sm text-gray-500"}," Manage your product bundles and packages ")],-1)),t("button",T,[l(c(B),{class:"w-4 h-4 mr-2"}),a[0]||(a[0]=q(" Create Bundle ",-1))])]),l(A,{title:"Product Bundles",description:"All bundles in your catalog",columns:x,data:g.value,loading:c(y),pagination:b.value,"sort-by":n.sortBy,"sort-direction":n.sortDirection,onSearch:h,onSort:v,onPageChange:k},{"cell-name":o(({item:e})=>{var i;return[t("div",$,[t("div",j,[t("div",z,[l(c(P),{class:"h-5 w-5 text-primary-600"})])]),t("div",E,[t("div",F,r(e.name),1),t("div",L,r((i=e.sellableItem)==null?void 0:i.sku),1)])])]}),"cell-items":o(({item:e})=>{var i;return[t("div",Q,r(((i=e.items)==null?void 0:i.length)||0)+" items ",1),t("div",K,r(p(e.items))+" total qty ",1)]}),"cell-price":o(({value:e})=>[t("span",O," $"+r(e==null?void 0:e.toFixed(2)),1)]),"cell-status":o(({value:e})=>[t("span",{class:u(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e===1?"bg-green-100 text-green-800":e===0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},r(e===1?"Active":e===0?"Inactive":"Archived"),3)]),"cell-availability":o(({item:e})=>[t("div",G,[t("div",{class:u(["flex-shrink-0 w-2 h-2 rounded-full mr-2",f(e)])},null,2),t("span",H,r(_(e)),1)])]),"cell-actions":o(({item:e})=>[...a[2]||(a[2]=[t("div",{class:"flex items-center space-x-2"},[t("button",{class:"text-primary-600 hover:text-primary-900 text-sm font-medium"}," Edit "),t("button",{class:"text-gray-600 hover:text-gray-900 text-sm font-medium"}," Availability "),t("button",{class:"text-red-600 hover:text-red-900 text-sm font-medium"}," Delete ")],-1)])]),_:1},8,["data","loading","pagination","sort-by","sort-direction"])]))}});export{X as default};
